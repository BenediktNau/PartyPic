
Aktivierung der Extension pgcrypto zur generierung uuid
CREATE EXTENSION IF NOT EXISTS "pgcrypto";

CREATE TABLE pictures (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    created_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),

    u_name VARCHAR(255) NOT NULL,
    session_id UUID NOT NULL,
    original_filename VARCHAR(255) NOT NULL,
    s3_key VARCHAR(255) NOT NULL,
    s3_bucket VARCHAR(100) NOT NULL,
    
    mimetype VARCHAR(100),
    filesize_bytes BIGINT,

    CONSTRAINT unique_s3_key UNIQUE(s3_key)
);



Indezes für Schnelle Suche möglicherweise später Interessant?
CREATE INDEX idx_pictures_session_id ON pictures(session_id);


CREATE INDEX idx_pictures_u_name ON pictures(u_name);