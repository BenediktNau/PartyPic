# =============================================================================
# PARTY-PIC SERVER - HELM VALUES
#
# Konfiguration fuer das NestJS Backend.
# Alle sensitiven Werte kommen aus dem K8s Secret (party-pic-secrets).
# =============================================================================

# Anzahl der Pod-Replikate (wird von HPA ueberschrieben)
replicaCount: 1
# Container Image Konfiguration
image:
  repository: ghcr.io/benediktnau/partypic-server
  pullPolicy: Always # Immer aktuelles Image ziehen
  tag: "sha-4c248a32f26e2e9201734b08240a3c717a3bf032"
# Resource Limits (wichtig fuer HPA!)
resources:
  requests:
    cpu: "250m"
    memory: "128Mi"
  limits:
    cpu: "500m"
    memory: "512Mi"
# Horizontal Pod Autoscaler
autoscaling:
  enabled: true
  minReplicas: 2 # Minimum fuer High Availability
  maxReplicas: 25 # Maximum bei Last
  targetCPUUtilizationPercentage: 60 # Scale-Up bei 60% CPU
  targetMemoryUtilizationPercentage: 70 # Scale-Up bei 70% Memory
# App-Konfiguration (nicht-sensitiv)
nodeEnv: "production"
port: "3000"
s3ForcePathStyle: "false"
# Name des K8s Secrets mit den Credentials
secretName: "party-pic-secrets"
